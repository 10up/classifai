(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.element,a=window.wp.data,n=window.wp.editPost,r=window.wp.editor,s=window.wp.components,o=window.wp.i18n,l=window.wp.plugins,i=window.wp.apiFetch;var c=e.n(i);const{classifaiChatGPTData:u}=window,d=({error:e})=>e?(0,t.createElement)("div",{className:"error"},e):null;(0,l.registerPlugin)("classifai-status-info",{render:()=>{const[e,l]=(0,t.useState)(!1),[i,m]=(0,t.useState)(!1),[p,w]=(0,t.useState)(!1),[f,P]=(0,t.useState)([]);if(!u||!u.enabledFeatures)return null;if(u.noPermissions&&1===parseInt(u.noPermissions))return null;const E=(0,a.select)("core/editor").getCurrentPostId(),g=(0,a.select)("core/editor").getEditedPostAttribute("content"),S=()=>m(!1)&&P([])&&w(!1);return(0,t.createElement)(n.PluginPostStatusInfo,{className:"classifai-post-status"},i&&(0,t.createElement)(s.Modal,{title:(0,o.__)("Select a title","classifai"),onRequestClose:S,isFullScreen:!1,className:"title-modal"},e&&(0,t.createElement)(s.Spinner,null),!e&&f&&(0,t.createElement)((({data:e})=>e?(0,t.createElement)(t.Fragment,null,e.map(((n,r)=>(0,t.createElement)("div",{className:"classifai-title",key:r},(0,t.createElement)("textarea",{rows:"5",onChange:t=>{e[r]=t.target.value,P(e)}},n),(0,t.createElement)(s.Button,{variant:"secondary",onClick:()=>{(0,a.dispatch)("core/editor").editPost({title:f[r]}),S()}},(0,o.__)("Select","classifai")))))):null),{data:f}),!e&&p&&(0,t.createElement)(d,{error:p})),u.enabledFeatures.map((e=>{const a=e?.path;return(0,t.createElement)(r.PostTypeSupportCheck,{key:e?.feature,supportKeys:e?.feature},(0,t.createElement)(s.Button,{className:e?.feature,variant:"secondary",onClick:()=>(async e=>{l(!0),m(!0),c()({path:e,method:"POST",data:{id:E,content:g}}).then((e=>{P(e),w(!1),l(!1)}),(e=>{w(e?.message),P([]),l(!1)}))})(a)},e?.buttonText))})))}})})();