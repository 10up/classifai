(()=>{"use strict";const e=window.wp.i18n;document.addEventListener("DOMContentLoaded",(function(){if(wp.media){const i=wp.media({title:(0,e.__)("Generate images","classifai"),button:{text:(0,e.__)("View details","classifai")},multiple:!1,frame:"select"});i.on("open",(function(){const e=i.$el.find(".media-menu-item#menu-item-upload"),t=i.$el.find(".media-menu-item#menu-item-generate");e.length&&e.hide(),t.length&&t.trigger("click")})),i.on("close",(function(){classifaiGenerateImages&&(window.location.href=classifaiGenerateImages.upload_url)})),i.on("select",(function(){if(classifaiGenerateImages){const e=i.state().get("selection").first().toJSON();window.location.href=`${classifaiGenerateImages.upload_url}?item=${e.id}`}})),i.open()}}))})();